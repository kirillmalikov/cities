{"ast":null,"code":"var _jsxFileName = \"/app/src/components/Authentication.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { signUp, logIn, getUser, logOut } from '../api/auth-api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Authentication = () => {\n  _s();\n  const [user, setUser] = useState({\n    email: '',\n    password: '',\n    isAdmin: false\n  });\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  useEffect(() => {\n    if (localStorage.getItem('user')) {\n      setIsLoggedIn(true);\n    }\n  }, []);\n  const handleSignup = async () => {\n    try {\n      const userResponse = await signUp(user.email, user.password, user.isAdmin);\n      await logIn(user.email, user.password);\n      localStorage.setItem('user', JSON.stringify(userResponse));\n      setIsLoggedIn(true);\n      window.location.reload();\n    } catch (error) {\n      console.error('Error creating user or logging in:', error);\n      // Handle the error as needed (e.g., show an error message to the user).\n    }\n  };\n\n  const handleLogin = async () => {\n    try {\n      await logIn(user.email, user.password);\n      const userResponse = await getUser();\n      localStorage.setItem('user', JSON.stringify(userResponse));\n      setIsLoggedIn(true);\n      window.location.reload();\n    } catch (error) {\n      console.error('Error logging in:', error);\n      // Handle the error as needed (e.g., show an error message to the user).\n    }\n  };\n\n  const handleLogout = async () => {\n    await logOut();\n    localStorage.removeItem('user');\n    setIsLoggedIn(false);\n    window.location.reload();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !isLoggedIn ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Email\",\n          value: user.email,\n          onChange: e => setUser({\n            ...user,\n            email: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 24\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Password\",\n          value: user.password,\n          onChange: e => setUser({\n            ...user,\n            password: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(_Fragment, {\n          children: \"Allow edit\"\n        }, void 0, false), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          checked: user.isAdmin,\n          onChange: e => setUser({\n            ...user,\n            isAdmin: e.target.checked\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSignup,\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: \" \"\n      }, void 0, false), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogin,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLogout,\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n};\n_s(Authentication, \"J06IlKnsNnIp/rpNWqC/rsiceGE=\");\n_c = Authentication;\nexport default Authentication;\nvar _c;\n$RefreshReg$(_c, \"Authentication\");","map":{"version":3,"names":["React","useState","useEffect","signUp","logIn","getUser","logOut","jsxDEV","_jsxDEV","Fragment","_Fragment","Authentication","_s","user","setUser","email","password","isAdmin","isLoggedIn","setIsLoggedIn","localStorage","getItem","handleSignup","userResponse","setItem","JSON","stringify","window","location","reload","error","console","handleLogin","handleLogout","removeItem","children","type","placeholder","value","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","checked","onClick","_c","$RefreshReg$"],"sources":["/app/src/components/Authentication.tsx"],"sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport {signUp, logIn, getUser, logOut} from '../api/auth-api';\r\n\r\ninterface User {\r\n    email: string;\r\n    password: string;\r\n    isAdmin: boolean;\r\n}\r\n\r\nconst Authentication: React.FC = () => {\r\n    const [user, setUser] = useState<User>({email: '', password: '', isAdmin: false});\r\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (localStorage.getItem('user')) {\r\n            setIsLoggedIn(true);\r\n        }\r\n    }, []);\r\n\r\n    const handleSignup = async () => {\r\n        try {\r\n            const userResponse = await signUp(user.email, user.password, user.isAdmin);\r\n            await logIn(user.email, user.password);\r\n            localStorage.setItem('user', JSON.stringify(userResponse));\r\n\r\n            setIsLoggedIn(true);\r\n            window.location.reload();\r\n        } catch (error) {\r\n            console.error('Error creating user or logging in:', error);\r\n            // Handle the error as needed (e.g., show an error message to the user).\r\n        }\r\n    };\r\n\r\n    const handleLogin = async () => {\r\n        try {\r\n            await logIn(user.email, user.password);\r\n            const userResponse = await getUser();\r\n            localStorage.setItem('user', JSON.stringify(userResponse));\r\n\r\n            setIsLoggedIn(true);\r\n            window.location.reload();\r\n        } catch (error) {\r\n            console.error('Error logging in:', error);\r\n            // Handle the error as needed (e.g., show an error message to the user).\r\n        }\r\n    };\r\n\r\n    const handleLogout = async () => {\r\n        await logOut();\r\n        localStorage.removeItem('user');\r\n        setIsLoggedIn(false);\r\n        window.location.reload();\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {!isLoggedIn ? (\r\n                <>\r\n                    <p><input\r\n                        type=\"text\"\r\n                        placeholder=\"Email\"\r\n                        value={user.email}\r\n                        onChange={(e) => setUser({...user, email: e.target.value})}\r\n                    />\r\n                    </p>\r\n                    <p>\r\n                        <input\r\n                            type=\"password\"\r\n                            placeholder=\"Password\"\r\n                            value={user.password}\r\n                            onChange={(e) => setUser({...user, password: e.target.value})}\r\n                        />\r\n                    </p>\r\n                    <p>\r\n                        <>Allow edit</>\r\n                        <input\r\n                            type={\"checkbox\"}\r\n                            checked={user.isAdmin}\r\n                            onChange={(e) => setUser({...user, isAdmin: e.target.checked})}\r\n                        />\r\n                    </p>\r\n                    <button onClick={handleSignup}>Sign Up</button>\r\n                    <> </>\r\n                    <button onClick={handleLogin}>Login</button>\r\n                </>\r\n            ) : (\r\n                <button onClick={handleLogout}>Logout</button>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Authentication;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}